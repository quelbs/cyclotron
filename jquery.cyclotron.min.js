!function(a){a.fn.cyclotron=function(b){return this.each(function(){var c,d,f,h,i,e=0,g=0,j=[],k=0,l=0,m=0,n=0;c=a(this);var o=a.extend({dampingFactor:.93,historySize:5,autorotation:0,continuous:1},b);if(c.css("background-size","auto 100%"),(o.dampingFactor>1||o.dampingFactor<0)&&("object"==typeof console&&console.log("dampingFactor out of range "+o.dampingFactor),o.dampingFactor=.93),1===o.continuous&&c.hasClass("nonContinuous")&&(o.continuous=0),0===o.continuous){var p=c.css("background-image").replace(/^url\(["']?/,"").replace(/["']?\)$/,""),q=new Image;a(q).one("load",function(){m=q.width,n=q.height,onResize()}),q.src=p}0!=o.autorotation&&(f=!1,e=o.autorotation),onResize=function(){n>0&&(k=m*(c.height()/n)-c.width(),f||(checkOffset(),c.css("background-position",g)))},a(window).on("resize",onResize),c.on("touchstart mousedown",function(a){var b=a.pageX>0?a.pageX:a.originalEvent.touches[0].pageX;d=b-g,f=!0,a.preventDefault()}),c.on("touchmove mousemove",function(a){if(f){var b=a.pageX>0?a.pageX:a.originalEvent.touches[0].pageX;"undefined"==typeof i&&(i=b),g=b-d,j.length>o.historySize&&j.shift(),j.push(i-b),checkOffset(),c.css("background-position",g),i=b}}),c.on("mouseleave mouseup touchend",function(){if(f){for(var a=j.length,b=j[a-1],c=0;c<a;c++)b=(b*a+j[c])/(a+1);e=b}f=!1}),h=function(){!f&&e&&(e*=o.dampingFactor,g-=e,checkOffset(),c.css("background-position",g),Math.abs(e)<.001&&(e=0))},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,100/6)}}(),function a(){requestAnimFrame(a),h()}(),checkOffset=function(){0===o.continuous&&(-g<l&&(e=0,g=-l),-g>k&&(e=0,g=-k))}})}}(jQuery),jQuery(document).ready(function(){$(".cyclotron").cyclotron()});
